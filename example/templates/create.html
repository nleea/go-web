<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Create user</title>
</head>

<body>


    <ul>
        <li>
            <a href="/">Home</a>
            <a href="/hello">Hello</a>
            <a href="/users">Users</a>
        </li>
    </ul>

    <form id="myForm">
        <input type="text" name="username" id="username" />
        <input type="text" name="password" id="password" />

        <button id="formSubmit">Submit</button>
    </form>

    <script>
        var username = document.getElementById("username");
        var password = document.getElementById("password");
        var formSubmit = document.getElementById("formSubmit");

        formSubmit.addEventListener("click", async function (event) {

            event.preventDefault()

            const resp = await fetch("http://localhost:4001/users/create/", {
                method: "POST",
                body: JSON.stringify({ "username": username.value, "password": password.value }),
                headers: new Headers({ "content-type": "application/json" }),
                mode: "same-origin",
            });

            if (resp.ok) {
                username.value = ""
                password.value = ""
            }

            return false;
        });
    </script>
</body>

</html>